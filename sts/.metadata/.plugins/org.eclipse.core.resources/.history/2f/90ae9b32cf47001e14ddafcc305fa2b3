<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Comments">
	<select id="count" resultType="int" parameterType="int">
	   SELECT COUNT(*)
	   FROM comments
	   WHERE board_num = #{boardNum}
	</select>

	<select id="list" resultType="Comment" parameterType="map">
      SELECT *
      FROM (SELECT rownum rnum, c.*
      		FROM (SELECT num, id, content, reg_date, board_num
      			  FROM comments
      			  WHERE board_num = #{board_num}
      			  ORDER BY reg_date DESC) c
      		WHERE rownum &lt;= #{end}
      		)
      WHERE rnum BETWEEN #{start} AND #{end}		
   </select>
</mapper>
